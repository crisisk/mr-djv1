import{i as z,b as L,r as h,c as F,d as q,l as K,e as W,j as t}from"./index-XOfFurFj.js";import{a as V,H as X,F as G}from"./Footer-CpcuIH_O.js";import{H as Z}from"./HeroSection-CAbsi_Y-.js";import{C as Q}from"./ContactForm-CFLifV3I.js";import{d as Y,g as ee,a as te,e as ne,b as ae}from"./schemaOrg-DlllkbfR.js";const re="r8_F37uDRCZQ92lMBuJKJ5b5EM0xHH9vnZ2EDXMN",oe="https://api.replicate.com/v1",C={FLUX_PRO:"black-forest-labs/flux-1.1-pro",FLUX_SCHNELL:"black-forest-labs/flux-schnell"};async function P(a,i={}){const r=`${oe}${a}`,o={headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json",Prefer:"wait",...i.headers},...i};try{const e=await fetch(r,o);if(!e.ok){const n=await e.json();throw new Error(n.detail||`Replicate API Error: ${e.status}`)}return await e.json()}catch(e){throw console.error("Replicate API Error:",e),e}}async function se({city:a,eventType:i="feest",style:r="professional",model:o=C.FLUX_PRO}){const e={bruiloft:`Professional elegant wedding DJ setup at a beautiful venue in ${a}, Netherlands, with romantic lighting, turntables, and saxophonist silhouette, cinematic photography, 8k, ultra detailed`,bedrijfsfeest:`Modern corporate event DJ booth at a professional venue in ${a}, with sleek lighting, branded backdrop, dancing crowd, high-end equipment, professional photography`,verjaardag:`Vibrant birthday party DJ setup in ${a} with colorful lighting, confetti, energetic atmosphere, celebration vibes, professional event photography`,feest:`Professional DJ performing at an upscale event venue in ${a}, Netherlands, with dynamic lighting effects, modern equipment, enthusiastic crowd, cinematic shot, 8k resolution`},n=e[i]||e.feest,p={prompt:r?`${n}, styled as ${r}`:n,aspect_ratio:"16:9",output_format:"webp",output_quality:90,safety_tolerance:2},d=await P("/predictions",{method:"POST",body:JSON.stringify({version:o.split(":")[1]||o,input:p})});return await O(d.id)}async function ie({prompt:a,aspectRatio:i="4:3",model:r=C.FLUX_SCHNELL}){const o={prompt:`Professional event photography: ${a}, high quality, 8k, cinematic lighting`,aspect_ratio:i,output_format:"webp",output_quality:85},e=await P("/predictions",{method:"POST",body:JSON.stringify({version:r.split(":")[1]||r,input:o})});return await O(e.id)}async function O(a,i=60){let r=0;for(;r<i;){const o=await P(`/predictions/${a}`);if(o.status==="succeeded")return Array.isArray(o.output)?o.output[0]:o.output;if(o.status==="failed")throw new Error("Image generation failed: "+o.error);await new Promise(e=>setTimeout(e,1e3)),r++}throw new Error("Image generation timeout")}async function le(a,i){const r=L(),o=z()&&(r==null?void 0:r.localStorage);if(o)try{const n=r.localStorage.getItem(`replicate_${a}`);if(n){const{url:s,timestamp:p}=JSON.parse(n);if(s&&p&&Date.now()-p<7*24*60*60*1e3)return s}}catch(n){console.warn("Kon Replicate cache niet lezen, genereer nieuwe afbeelding",n)}const e=await i();if(o&&e)try{r.localStorage.setItem(`replicate_${a}`,JSON.stringify({url:e,timestamp:Date.now()}))}catch(n){console.warn("Kon Replicate afbeelding niet cachen",n)}return e}function ce(a={}){const[i,r]=h.useState(a.placeholder||null),[o,e]=h.useState(!1),[n,s]=h.useState(null),p=h.useCallback(async d=>{e(!0),s(null);try{const f=JSON.stringify(d),x=await le(f,async()=>{if(d.type==="hero")return await se(d);if(d.type==="event")return await ie(d);throw new Error("Unknown image type")});return r(x),x}catch(f){return s(f.message),console.error("Image generation error:",f),null}finally{e(!1)}},[]);return{imageUrl:i,isLoading:o,error:n,generateImage:p,setImageUrl:r}}function ue({city:a,eventType:i,autoGenerate:r=!1}){const{imageUrl:o,isLoading:e,error:n,generateImage:s}=ce();return h.useEffect(()=>{r&&a&&s({type:"hero",city:a,eventType:i||"feest"})},[a,i,r,s]),{imageUrl:o,isLoading:e,error:n}}const xe=({data:a,pricingSection:i,testimonialsSection:r,variant:o})=>{var E;const e=!!a,n=e?a.city:"",s=e?a.province:"",p=e?a.localUSP:"",d=e?a.localReviews:"",f=e?a.localVenues:[],x=e?a.seoTitle:"Mister DJ - Lokale DJ",v=e?a.seoDescription:"Mr. DJ verzorgt feesten door heel Nederland met 100% dansgarantie.",c=e?a.slug:"",l=e&&c.startsWith("bruiloft-dj-"),b=l?c.replace("bruiloft-dj-",""):`bruiloft-dj-${c}`,D=l?b:c,_=l?"bruiloft":"feest",{imageUrl:A,isLoading:R,error:T}=ue({city:n,eventType:_,autoGenerate:e&&!!n}),U=h.useMemo(()=>l?"/images/events/hero-bruiloft-dj.webp":"/images/events/hero-feest-dj.webp",[l]),H=A||U,M=l?`Uw Bruiloft DJ in ${n}, ${s}`:`Uw DJ voor Feesten in ${n}, ${s}`,w=e?l?`/${c}`:`/dj-in-${c}`:"/",S=L(),N=`${((E=S==null?void 0:S.location)==null?void 0:E.origin)??"https://www.mrdj.nl"}${w}`,J=h.useMemo(()=>e?l?!!F(b):!!q(b):!1,[b,e,l]),$=h.useMemo(()=>e?[{name:"Home",url:"/"},{name:`DJ in ${n}`,url:w}]:[],[w,n,e]),k=h.useMemo(()=>{if(!e)return[];const u=l?K:W,y=u.filter(m=>m.slug!==c&&m.province===s),B=u.filter(m=>m.slug!==c),j=(y.length?y:B).slice(0,3).map(m=>({label:`${l?"Bruiloft DJ":"DJ"} in ${m.city}`,path:m.slug.startsWith("bruiloft-dj-")?`/${m.slug}`:`/dj-in-${m.slug}`}));return J&&j.unshift({label:l?`DJ in ${n}`:`Bruiloft DJ in ${n}`,path:l?`/dj-in-${D}`:`/${b}`}),j},[n,b,D,J,e,l,s,c]),g=h.useMemo(()=>{if(!e)return{};const u=ae(),y=ne({city:n,province:s,slug:c,path:w}),B=Y({name:`${l?"Bruiloft":"Feest"} met DJ in ${n}`,description:p,city:n,province:s,startDate:"2025-12-31T20:00",endDate:"2026-01-01T04:00"}),I=ee($),j=te({title:x,description:v,url:N,breadcrumbs:$});return{organization:JSON.stringify(u),localBusiness:JSON.stringify(y),event:JSON.stringify(B),breadcrumb:JSON.stringify(I),webPage:JSON.stringify(j)}},[$,w,N,n,e,l,p,s,v,x,c]);return e?t.jsxs("div",{className:"LocalSeoPage",children:[t.jsx(V,{}),t.jsxs(X,{children:[t.jsx("title",{children:x}),t.jsx("meta",{name:"description",content:v}),t.jsx("link",{rel:"canonical",href:N}),g.organization&&t.jsx("script",{type:"application/ld+json",children:g.organization}),g.localBusiness&&t.jsx("script",{type:"application/ld+json",children:g.localBusiness}),g.event&&t.jsx("script",{type:"application/ld+json",children:g.event}),g.breadcrumb&&t.jsx("script",{type:"application/ld+json",children:g.breadcrumb}),g.webPage&&t.jsx("script",{type:"application/ld+json",children:g.webPage})]}),t.jsxs(Z,{title:M,subtitle:p,ctaPrimaryText:"Check Beschikbaarheid",ctaSecondaryText:"Vraag Offerte Aan",backgroundClass:"bg-primary",titleColor:"text-white",subtitleColor:"text-white",backgroundImage:H,children:[R&&t.jsxs("p",{className:"mt-6 text-sm text-white/80","aria-live":"polite",children:["We genereren een unieke hero-afbeelding voor ",n,"..."]}),T&&t.jsx("p",{className:"mt-4 inline-flex rounded-full bg-black/50 px-4 py-2 text-xs text-red-100",role:"status",children:"Kon dynamische hero niet laden – we tonen onze standaardfoto."})]}),t.jsx("section",{className:"bg-white py-12",children:t.jsxs("div",{className:"container mx-auto px-4 text-center",children:[t.jsxs("h2",{className:"mb-6 text-4xl font-bold text-[#1A2C4B]",children:["Bekend met de beste locaties in ",n," en ",s]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:f.map(u=>t.jsx("span",{className:"rounded-full bg-gray-100 px-4 py-2 text-base text-[#1A2C4B] shadow-sm",children:u},u))})]})}),t.jsx("section",{className:"bg-gray-100 py-16",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("h2",{className:"text-center text-4xl font-extrabold text-[#1A2C4B]",children:["Wat klanten in ",n," en ",s," zeggen"]}),t.jsx("div",{className:"mt-8",children:r}),d&&t.jsxs("blockquote",{className:"mx-auto mt-10 max-w-3xl rounded-xl bg-white/70 p-6 text-center text-lg italic text-[#1A2C4B] shadow-md",children:["“",d,"”"]})]})}),i,k.length>0&&t.jsx("section",{className:"bg-white py-12",children:t.jsxs("div",{className:"container mx-auto px-4 text-center",children:[t.jsx("h2",{className:"mb-6 text-2xl font-bold text-[#1A2C4B]",children:"Ontdek Onze DJ Services in de Regio"}),t.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:k.map(u=>t.jsx("a",{href:u.path,className:"text-primary-500 underline hover:text-primary-700",children:u.label},u.path))})]})}),t.jsx("section",{className:"bg-white py-16",children:t.jsx("div",{className:"container mx-auto px-4 max-w-3xl",children:t.jsx(Q,{variant:o,eventType:l?"bruiloft":""})})}),t.jsxs("div",{className:"bg-[#1A2C4B] py-12 text-center text-white",children:[t.jsx("h3",{className:"mb-4 text-4xl font-bold",children:o==="B"?`Vraag vandaag nog een gratis offerte aan in ${n}!`:`Klaar voor een onvergetelijk feest in ${n} of ${s}?`}),t.jsxs("p",{className:"text-white",children:["Bel ons direct op"," ",t.jsx("a",{href:"tel:+31408422594",className:"font-bold underline hover:text-secondary",children:"+31 (0) 40 8422594"})]})]}),t.jsx(G,{})]}):t.jsx("div",{className:"p-10 text-center text-red-500",children:"Geen lokale SEO data gevonden."})};export{xe as default};
