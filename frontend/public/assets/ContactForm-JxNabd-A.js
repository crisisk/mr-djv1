import{r as c,j as e,B as y}from"./index-Ea9wgePt.js";const N="/api";async function w(o,m={}){const t=`${N}${o}`,d={headers:{"Content-Type":"application/json",...m.headers},...m};try{const s=await fetch(t,d),l=await s.json();if(!s.ok)throw new Error(l.message||l.error||`HTTP Error: ${s.status}`);return l}catch(s){throw s instanceof TypeError?new Error("Netwerkfout: Kan geen verbinding maken met de server"):s}}async function S(o){return w("/contact",{method:"POST",body:JSON.stringify(o)})}const B=({variant:o="A",eventType:m=""})=>{const[t,d]=c.useState({name:"",email:"",phone:"",message:"",eventType:m,eventDate:""}),[s,l]=c.useState(!1),[f,u]=c.useState(!1),[h,x]=c.useState(null),[r,g]=c.useState({}),b=()=>{const n={};t.name.trim()?t.name.trim().length<2&&(n.name="Naam moet minimaal 2 tekens bevatten"):n.name="Naam is verplicht";const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.email.trim()?a.test(t.email)||(n.email="Ongeldig emailadres"):n.email="Email is verplicht",t.phone&&!/^[\d\s\-\+\(\)]{10,}$/.test(t.phone)&&(n.phone="Ongeldig telefoonnummer"),t.message.trim()?t.message.trim().length<10&&(n.message="Bericht moet minimaal 10 tekens bevatten"):n.message="Bericht is verplicht",t.eventType||(n.eventType="Selecteer een type evenement"),g(n),Object.keys(n).length===0},i=n=>{const{name:a,value:j}=n.target;d(p=>({...p,[a]:j})),r[a]&&g(p=>({...p,[a]:null}))},v=async n=>{if(n.preventDefault(),x(null),u(!1),!!b()){l(!0);try{const a=await S(t);u(!0),d({name:"",email:"",phone:"",message:"",eventType:m,eventDate:""}),window.dataLayer&&window.dataLayer.push({event:"contact_form_submit",form_variant:o,event_type:t.eventType}),setTimeout(()=>u(!1),5e3)}catch(a){x(a.message||"Er is een fout opgetreden. Probeer het later opnieuw."),console.error("Contact form error:",a)}finally{l(!1)}}};return e.jsxs("div",{className:"contact-form bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#1A2C4B] mb-2",children:o==="B"?"Vraag Direct een Offerte Aan":"Neem Contact Op"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Vul het formulier in en we nemen binnen 24 uur contact met je op."}),f&&e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:[e.jsx("strong",{children:"Succesvol verzonden!"}),e.jsx("p",{children:"Bedankt voor je bericht. We nemen zo snel mogelijk contact met je op."})]}),h&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[e.jsx("strong",{children:"Fout bij verzenden"}),e.jsx("p",{children:h})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-[#1A2C4B] mb-1",children:["Naam ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:i,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none ${r.name?"border-red-500":"border-neutral-gray-300"}`,placeholder:"Jouw naam"}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-[#1A2C4B] mb-1",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:i,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none ${r.email?"border-red-500":"border-neutral-gray-300"}`,placeholder:"jouw@email.nl"}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-[#1A2C4B] mb-1",children:"Telefoonnummer"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:i,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none ${r.phone?"border-red-500":"border-neutral-gray-300"}`,placeholder:"+31 6 12345678"}),r.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"eventType",className:"block text-sm font-medium text-[#1A2C4B] mb-1",children:["Type Evenement ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"eventType",name:"eventType",value:t.eventType,onChange:i,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none ${r.eventType?"border-red-500":"border-neutral-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecteer type evenement"}),e.jsx("option",{value:"bruiloft",children:"Bruiloft"}),e.jsx("option",{value:"bedrijfsfeest",children:"Bedrijfsfeest"}),e.jsx("option",{value:"verjaardag",children:"Verjaardag"}),e.jsx("option",{value:"jubileum",children:"Jubileum"}),e.jsx("option",{value:"feest",children:"Algemeen Feest"}),e.jsx("option",{value:"anders",children:"Anders"})]}),r.eventType&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.eventType})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventDate",className:"block text-sm font-medium text-[#1A2C4B] mb-1",children:"Gewenste Datum"}),e.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:t.eventDate,onChange:i,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-neutral-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-[#1A2C4B] mb-1",children:["Bericht ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:i,rows:"4",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none resize-none ${r.message?"border-red-500":"border-neutral-gray-300"}`,placeholder:"Vertel ons meer over jouw evenement..."}),r.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.message})]}),e.jsx("div",{className:"pt-2",children:e.jsx(y,{type:"submit",variant:"primary",size:"large",disabled:s,className:"w-full",children:s?"Bezig met verzenden...":o==="B"?"Vraag Offerte Aan":"Verstuur Bericht"})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Door dit formulier te versturen ga je akkoord met ons"," ",e.jsx("a",{href:"/privacy",className:"text-primary-500 hover:underline",children:"privacybeleid"}),". We gebruiken je gegevens alleen om contact met je op te nemen over je evenement."]})]})]})};export{B as C};
