# Mr. DJ Backend â€“ Runtime environment example
# Copy this file to `.env` for local development and populate with secure values.
# Secrets such as production database credentials must be stored in the secret manager
# referenced by the runbooks. Do NOT commit real secrets.

NODE_ENV=development
SERVICE_NAME=mr-dj-backend
PORT=3000
HOST=0.0.0.0
LOG_FORMAT=dev

DATABASE_URL=postgres://user:pass@localhost:5432/mrdj
REDIS_URL=redis://localhost:6379/0
REDIS_TLS=false
REDIS_NAMESPACE=mr-dj
REDIS_TLS_REJECT_UNAUTHORIZED=true
PGSSLMODE=prefer

RENTGUY_API_BASE_URL=https://api.rentguy.example
RENTGUY_API_KEY=replace-with-live-key
RENTGUY_WORKSPACE_ID=workspace-id
RENTGUY_TIMEOUT_MS=5000
RENTGUY_WEBHOOK_SECRETS=

SEVENSA_SUBMIT_URL=https://sevensa.example/submit
SEVENSA_QUEUE_RETRY_DELAY_MS=15000
SEVENSA_QUEUE_MAX_ATTEMPTS=5

N8N_PERSONALIZATION_WEBHOOK_URL=https://n8n.example/webhooks/personalization
N8N_SURVEY_WEBHOOK_URL=https://n8n.example/webhooks/surveys
PERSONALIZATION_WEBHOOK_SECRETS=
SURVEY_RESPONSE_BASE_URL=https://feedback.example/respond

SEO_AUTOMATION_API_URL=https://seo.example/api
SEO_AUTOMATION_API_KEY=seo-api-key
SEO_AUTOMATION_KEYWORDSET_ID=keywordset-id
SEO_AUTOMATION_REGION=Noord-Brabant
SEO_AUTOMATION_THEME_KEYWORDS=
SEO_AUTOMATION_APPROVAL_EMAIL=marketing@example.com

CITY_AUTOMATION_LLM_PROVIDER=openai
CITY_AUTOMATION_LLM_MODEL=gpt-4.1-mini
CITY_AUTOMATION_LLM_API_KEY=
OPENAI_API_KEY=
CITY_AUTOMATION_DRY_RUN=false

META_GRAPH_API_BASE_URL=https://graph.facebook.com
META_IG_BUSINESS_ID=
META_IG_ACCESS_TOKEN=
META_IG_REELS_CACHE_TTL=900
META_IG_REQUEST_TIMEOUT_MS=5000

WHATSAPP_API_BASE_URL=https://graph.facebook.com/v19.0
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_APP_SECRET=
WHATSAPP_INTEGRATION_SECRETS=
WHATSAPP_REQUEST_TIMEOUT_MS=8000
WHATSAPP_BOOKING_TEMPLATE=mr_dj_booking_confirmation
WHATSAPP_DEFAULT_LANGUAGE=en_US

MAIL_PROVIDER=postmark
MAIL_API_KEY=
MAIL_FROM_ADDRESS=hello@mr-dj.nl
MAIL_REPLY_TO=events@mr-dj.nl
MAIL_STREAM=
MAIL_TEMPLATES_CONTACT=contact-template-id
MAIL_TEMPLATES_BOOKING=booking-template-id

HCAPTCHA_SITE_KEY=
HCAPTCHA_SECRET_KEY=
HCAPTCHA_VERIFY_URL=https://hcaptcha.com/siteverify

CONFIG_DASHBOARD_ENABLED=false
CONFIG_DASHBOARD_USER=
CONFIG_DASHBOARD_PASS=
CONFIG_DASHBOARD_ALLOWED_IPS=
CONFIG_DASHBOARD_KEYS=
CONFIG_DASHBOARD_STORE_PATH=./managed.env

CORS_ORIGIN=
CORS_ORIGIN_LIST=
CORS_PUBLIC_ORIGINS=

ALERT_WEBHOOK_URLS=
ALERT_THROTTLE_MS=120000
ALERT_QUEUE_WARNING_BACKLOG=25
ALERT_QUEUE_CRITICAL_BACKLOG=75
ALERT_QUEUE_RECOVERY_BACKLOG=5
ALERT_QUEUE_WARNING_RETRY_AGE_MS=300000
ALERT_QUEUE_CRITICAL_RETRY_AGE_MS=900000
ALERT_QUEUE_RECOVERY_RETRY_AGE_MS=120000
ALERT_QUEUE_DEAD_LETTER_WARNING=1

CONTACT_RATE_LIMIT_WINDOW_MS=60000
CONTACT_RATE_LIMIT_MAX=20
CONTACT_IP_THROTTLE_WINDOW_MS=600000
CONTACT_IP_THROTTLE_MAX=50
CONTACT_IP_BLOCK_DURATION_MS=1800000
CONTACT_BLOCKED_AGENTS=
CONTACT_SUSPECT_AGENTS=

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=
OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=
OTEL_EXPORTER_OTLP_HEADERS=

# Feature flags
FLAG_TELEMETRY=on
FLAG_RENTGUY_INTEGRATION=on
FLAG_SEVENSA_BACKPRESSURE=on
